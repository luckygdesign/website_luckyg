{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/lukasgrossmann/Data/luckyg/GIT/website_luckyg/components/contactform.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\n\nclass Contactform extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      status: 'default',\n      statusMessage: '',\n      data: {\n        name: '',\n        email: '',\n        message: '',\n        confirm: false\n      }\n    });\n\n    _defineProperty(this, \"submit\", e => {\n      e.preventDefault();\n\n      if (!this.state.data.confirm) {\n        this.setState({\n          statusMessage: 'bitte bestätigen Sie die Datenschutzerklärung',\n          status: 'form-pending'\n        });\n        return;\n      }\n\n      this.setState({\n        statusMessage: 'Email wird gesendet, bitte warten',\n        status: 'form-sending'\n      });\n      let {\n        data: {\n          name,\n          email,\n          message\n        }\n      } = this.state;\n      fetch('https://us-central1-handle-fcb54.cloudfunctions.net/addMessage', {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: _JSON$stringify({\n          name: name,\n          email: email,\n          message: message,\n          project: 'luckyg'\n        })\n      }).then(res => {\n        if (!res.ok) {\n          throw Error(res.toString());\n        }\n\n        return res;\n      }).then(res => {\n        this.setState({\n          statusMessage: 'Email wurde erfolgreich gesendet',\n          status: 'form-success'\n        });\n      }).catch(err => {\n        this.setState({\n          statusMessage: 'Email konnte nicht versendet werden',\n          status: 'form-failed'\n        });\n      });\n    });\n\n    _defineProperty(this, \"handleChange\", ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      this.setState(state => ({\n        data: _Object$assign({}, state.data, {\n          [name]: value\n        })\n      }));\n    });\n\n    _defineProperty(this, \"toggleDatenschutz\", ({\n      target: {\n        checked\n      }\n    }) => {\n      this.setState(state => ({\n        data: _Object$assign({}, state.data, {\n          confirm: checked\n        })\n      }));\n    });\n  }\n\n  render() {\n    let {\n      data\n    } = this.state;\n    return __jsx(\"form\", {\n      id: \"ContactForm\",\n      action: \"https://us-central1-handle-fcb54.cloudfunctions.net/addMessage\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Name\"), __jsx(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      required: true,\n      placeholder: \"Vorname Nachname\",\n      value: data.name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Email\"), __jsx(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      required: true,\n      placeholder: \"ich@example.de\",\n      value: data.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"big\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Nachricht\"), __jsx(\"textarea\", {\n      name: \"message\",\n      required: true,\n      placeholder: \"Hallo...\",\n      rows: 7,\n      value: data.message,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"small dsgvo-confirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      name: \"confirm\",\n      required: true,\n      placeholder: \"i\",\n      onChange: this.toggleDatenschutz,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), __jsx(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Ich habe die \", __jsx(\"a\", {\n      href: \"/datenschutz\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Datenschutzerkl\\xE4rung\"), \" zur Kenntnis genommen. Ich stimme zu, dass meine Angaben und Daten zur Beantwortung meiner Anfrage elektronisch erhoben und gespeichert werden. Hinweis: Sie k\\xF6nnen Ihre Einwilligung jederzeit f\\xFCr die Zukunft per E-Mail an \", __jsx(\"a\", {\n      href: \"lukas@luckyg.de\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"lukas@luckyg.de\"), \" widerrufen.\")), __jsx(\"div\", {\n      className: \"big contact-buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      className: \"button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Absenden\")), __jsx(\"div\", {\n      className: \"big formstatus \".concat(this.state.status),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, this.state.statusMessage)));\n  }\n\n}\n\nexport default Contactform;","map":{"version":3,"sources":["/Users/lukasgrossmann/Data/luckyg/GIT/website_luckyg/components/contactform.tsx"],"names":["React","Contactform","Component","status","statusMessage","data","name","email","message","confirm","e","preventDefault","state","setState","fetch","method","mode","headers","body","project","then","res","ok","Error","toString","catch","err","target","value","checked","render","submit","handleChange","toggleDatenschutz"],"mappings":"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","sourcesContent":["import React from 'react';\n\ntype IProps = {\n\n}\n\ntype IState = {\n  status: string,\n  statusMessage: string,\n  data: {\n    name: string,\n    email: string,\n    message: string,\n    confirm: boolean\n  }\n}\n\nclass Contactform extends React.Component<IProps, IState> {\n  state = {\n    status: 'default',\n    statusMessage: '',\n    data: {\n      name: '',\n      email: '',\n      message: '',\n      confirm: false,\n    },\n  }\n\n  submit = e => {\n    e.preventDefault()\n\n    if (!this.state.data.confirm) {\n      this.setState({statusMessage: 'bitte bestätigen Sie die Datenschutzerklärung', status: 'form-pending'});\n      return;\n    }\n\n    this.setState({statusMessage: 'Email wird gesendet, bitte warten', status: 'form-sending'});\n\n    let {\n      data: { name, email, message },\n    } = this.state\n\n    fetch('https://us-central1-handle-fcb54.cloudfunctions.net/addMessage', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        email: email,\n        message: message,\n        project: 'luckyg',\n      }),\n    }).then(res => {\n      if (!res.ok) {\n        throw Error(res.toString());\n      }\n      return res;\n    }).then(res => {\n      this.setState({ statusMessage: 'Email wurde erfolgreich gesendet', status:'form-success'});\n    }).catch(err => {\n      this.setState({ statusMessage: 'Email konnte nicht versendet werden', status:'form-failed'});\n    })\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState(state => ({\n      data: Object.assign({}, state.data, { [name]: value }),\n    }))\n  }\n\n  toggleDatenschutz = ({target: {checked}}) => {\n    this.setState(state => ({\n      data: Object.assign({}, state.data, { confirm: checked }),\n    }))\n  }\n\n  render() {\n    let { data } = this.state\n\n    return (\n      <form\n        id=\"ContactForm\"\n        action=\"https://us-central1-handle-fcb54.cloudfunctions.net/addMessage\"\n        onSubmit={this.submit}\n      >\n        <div className=\"small\">\n          <label>Name</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            required\n            placeholder=\"Vorname Nachname\"\n            value={data.name}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div className=\"small\">\n          <label>Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            required\n            placeholder=\"ich@example.de\"\n            value={data.email}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div className=\"big\">\n          <label>Nachricht</label>\n          <textarea\n            name=\"message\"\n            required\n            placeholder=\"Hallo...\"\n            rows={7}\n            value={data.message}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div className=\"small dsgvo-confirm\">\n          <input\n            type=\"checkbox\"\n            name=\"confirm\"\n            required\n            placeholder=\"i\"\n            onChange={this.toggleDatenschutz}\n          />\n          <label>\n            Ich habe die <a href=\"/datenschutz\">Datenschutzerklärung</a> zur Kenntnis genommen. Ich stimme zu, dass meine Angaben und Daten zur Beantwortung meiner Anfrage elektronisch erhoben und gespeichert werden.\n            Hinweis: Sie können Ihre Einwilligung jederzeit für die Zukunft per E-Mail an <a href='lukas@luckyg.de'>lukas@luckyg.de</a> widerrufen.\n          </label>\n\n        </div>\n\n        <div className=\"big contact-buttons\">\n          <button className=\"button\" type=\"submit\">Absenden</button>\n\n        </div>\n\n\n        <div className={`big formstatus ${this.state.status}`}>\n          <span>{this.state.statusMessage}</span>\n        </div>\n\n      </form>\n    )\n  }\n}\n\nexport default Contactform\n"]},"metadata":{},"sourceType":"module"}