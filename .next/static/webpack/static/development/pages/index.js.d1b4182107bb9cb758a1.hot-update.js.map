{"version":3,"file":"static/webpack/static/development/pages/index.js.d1b4182107bb9cb758a1.hot-update.js","sources":["webpack:///./components/contactform.tsx"],"sourcesContent":["import React from 'react';\n\ntype IProps = {\n\n}\n\ntype IState = {\n  status: string,\n  statusMessage: string,\n  data: {\n    name: string,\n    email: string,\n    message: string,\n    confirm: boolean\n  }\n}\n\nclass Contactform extends React.Component<IProps, IState> {\n  state = {\n    status: 'default',\n    statusMessage: '',\n    data: {\n      name: '',\n      email: '',\n      message: '',\n      confirm: false,\n    },\n  }\n\n  submit = e => {\n    e.preventDefault()\n\n    if (!this.state.data.confirm) {\n      this.setState({statusMessage: 'bitte bestätigen Sie die Datenschutzerklärung', status: 'form-pending'});\n      return;\n    }\n\n    this.setState({statusMessage: 'Email wird gesendet, bitte warten', status: 'form-sending'});\n\n    let {\n      data: { name, email, message },\n    } = this.state\n\n    fetch('https://us-central1-handle-fcb54.cloudfunctions.net/addMessage', {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        email: email,\n        message: message,\n        project: 'luckyg',\n      }),\n    }).then(res => {\n      if (!res.ok) {\n        throw Error(res.toString());\n      }\n      return res;\n    }).then(res => {\n      this.setState({ statusMessage: 'Email wurde erfolgreich gesendet', status:'form-success'});\n    }).catch(err => {\n      this.setState({ statusMessage: 'Email konnte nicht versendet werden', status:'form-failed'});\n    })\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState(state => ({\n      data: Object.assign({}, state.data, { [name]: value }),\n    }))\n  }\n\n  toggleDatenschutz = ({target: {checked}}) => {\n    this.setState(state => ({\n      data: Object.assign({}, state.data, { confirm: checked }),\n    }))\n  }\n\n  render() {\n    let { data } = this.state\n\n    return (\n      <form\n        id=\"ContactForm\"\n        action=\"https://us-central1-handle-fcb54.cloudfunctions.net/addMessage\"\n        onSubmit={this.submit}\n      >\n        <div className=\"small\">\n          <label htmlFor=\"name\">Name</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            required\n            placeholder=\"Vorname Nachname\"\n            value={data.name}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div className=\"small\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            required\n            placeholder=\"ich@example.de\"\n            value={data.email}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div className=\"big\">\n          <label htmlFor=\"message\">Message</label>\n          <textarea\n            name=\"message\"\n            required\n            placeholder=\"Hallo...\"\n            rows={7}\n            value={data.message}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div className=\"small dsgvo-confirm\">\n          <input\n            type=\"checkbox\"\n            name=\"confirm\"\n            required\n            placeholder=\"i\"\n            onChange={this.toggleDatenschutz}\n          />\n          <label lang=\"de\" htmlFor=\"confirm\">\n            Ich habe die <a href=\"/datenschutz\">Datenschutzerklärung</a> zur Kenntnis genommen. Ich stimme zu, dass meine Angaben und Daten zur Beantwortung meiner Anfrage elektronisch erhoben und gespeichert werden.\n            Hinweis: Sie können Ihre Einwilligung jederzeit für die Zukunft per E-Mail an <a href='lukas@luckyg.de'>lukas@luckyg.de</a> widerrufen.\n          </label>\n\n        </div>\n\n        <div className=\"big contact-buttons\">\n          <button className=\"button\" type=\"submit\">Absenden</button>\n\n        </div>\n\n\n        <div className={`big formstatus ${this.state.status}`}>\n          <span>{this.state.statusMessage}</span>\n        </div>\n\n      </form>\n    )\n  }\n}\n\nexport default Contactform\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAgBA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AACA;AAFA;AAaA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAJA;AANA;AAaA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAjDA;AAkDA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AAvDA;AAwDA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AA5DA;AACA;AA6DA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAvIA;AACA;AAwIA;;;;A","sourceRoot":""}